
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <title>Express Â· GitBook</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.0">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="socket.io.html" />
    
    
    <link rel="prev" href="node.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../setup/">
            
                <a href="../setup/">
            
                    
                    Setup
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../setup/github.html">
            
                <a href="../setup/github.html">
            
                    
                    Github
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../setup/cloud9.html">
            
                <a href="../setup/cloud9.html">
            
                    
                    Cloud9
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../setup/chrome.html">
            
                <a href="../setup/chrome.html">
            
                    
                    Chrome
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../part1/">
            
                <a href="../part1/">
            
                    
                    Part I - HTML & CSS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../part1/html.html">
            
                <a href="../part1/html.html">
            
                    
                    HTML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../part1/dev-tools.html">
            
                <a href="../part1/dev-tools.html">
            
                    
                    Dev Tools
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../part1/css.html">
            
                <a href="../part1/css.html">
            
                    
                    CSS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../part1/final-css.html">
            
                <a href="../part1/final-css.html">
            
                    
                    CSS (Solution!)
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="./">
            
                <a href="./">
            
                    
                    Part II - JavaScript
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="client-js.html">
            
                <a href="client-js.html">
            
                    
                    Client Side
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="node.html">
            
                <a href="node.html">
            
                    
                    Node
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4.3" data-path="express.html">
            
                <a href="express.html">
            
                    
                    Express
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="socket.io.html">
            
                <a href="socket.io.html">
            
                    
                    Socket IO
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../part3/">
            
                <a href="../part3/">
            
                    
                    Part III - Enhancements (Stretch)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../final/">
            
                <a href="../final/">
            
                    
                    Final Thoughts
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Express</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="express-for-our-web-server">Express for our web server</h1><p>So far we&apos;ve created a node script that prints something out to the terminal, which is great. Instead of doing that though, we need it to do something real.</p><p>In our case, we&apos;re building a web server, more specifically a <em>chat &apos;server&apos;</em>. So we need to listen for incoming HTTP requests and then send down the HTML, CSS and JS that we wrote earlier for our <em>chat &apos;client&apos;</em>.</p><p>While Node comes with basic HTTP handling support, a very (probably the most) popular 3rd party library (called &quot;modules&quot; in the Node community) named &apos;Express&apos; is used by most developers writing web servers in Node. We shall use it too!</p><h2 id="dyk">DYK!!</h2><p><strong>That reminds me!</strong> Since you&apos;ve made it to this point, I guess you deserve a really juicy bit of DYK (did you know).</p><p>A very large part of the NodeJS ecosystem / codebase was actually written by a young fellow by the name of TJ Holowaychuk. He lives in Victoria, BC.</p><p><img alt="TJ" src="http://d.pr/i/1azN5/16iw08fD+"></p><p>Here&apos;s an <a href="https://medium.com/@kelas/how-is-tj-holowaychuk-so-insanely-productive-604818b4e9eb" target="_blank">interesting blog post</a> talking about TJ. And here&apos;s a <a href="https://www.quora.com/How-did-TJ-Holowaychuk-learn-to-program" target="_blank">Quora question</a> with a short discussion about him.</p><p>His code has made its way into a very very large number of software products that we use today. Here&apos;s an example that you may appreciate: <a href="https://www.freshgrade.com/" target="_blank">FreshGrade</a>, a very successful Kelowna based startup, uses NodeJS and Express (<a href="http://freshgrade.applytojob.com/apply/3ANYBx/Senior-Backend-Developer-Nodejs-API-Craftsman" target="_blank">example job post by them</a>) and thus code that TJ wrote. The same is true for other bigger companies like LinkedIn, Apple, Google, Mozilla, AirBnB, WhatsApp, Instagram, etc etc. Amazing, huh?</p><h2 id="step-1">Step 1</h2><p>Okay, so back to business.</p><p>Let&apos;s install and save the Express library into our project by running the command: <code>npm install express --save</code></p><p><img alt="screenshot" src="http://d.pr/i/10kgL/2BlmzYbb+"></p><p>Now we can start using it. Type out the following JavaScript code into the <code>server.js</code> file:</p><pre><code class="lang-js"><span class="hljs-keyword">var</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;express&apos;</span>);
<span class="hljs-keyword">var</span> app = express();

<span class="hljs-keyword">var</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;http&apos;</span>);
<span class="hljs-keyword">var</span> server = http.Server(app);

app.use(express.static(<span class="hljs-string">&apos;client&apos;</span>));

server.listen(process.env.PORT, process.env.IP, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">var</span> addr = server.address();
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;Chat server running at&quot;</span>, addr.address + <span class="hljs-string">&quot;:&quot;</span> + addr.port);
});</code></pre>
<h3 id="explanation">Explanation</h3><p>So a bunch of new code and syntax was just introduced there. Let&apos;s attempt to break it down.</p><p>The first few lines are just loading external modules. We then tell the Express app to server all static content from the <code>&apos;client&apos;</code> folder.</p><p>When all the setup work is done, we then tell the server to listen in on a certain port and IP address.</p><p>So for now it&apos;s a simple web server serving only static (HTML, CSS and JS) files to any HTTP/web traffic coming its way.</p><p>Let&apos;s try it out by running it:</p><p><img alt="screenshot" src="http://d.pr/i/1bz8V/4HQ3G3lz+"></p><p>Now visit the URL mentioned in the terminal output in another browser tab. It will bring up the chat app page just like before, with no new functionality. The send button should be working as before, too!</p><p><img alt="screenshot" src="http://d.pr/i/23w5/1oxxdqvJ+"></p>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="node.html" class="navigation navigation-prev " aria-label="Previous page: Node">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="socket.io.html" class="navigation navigation-next " aria-label="Next page: Socket IO">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Express","level":"1.4.3","depth":2,"next":{"title":"Socket IO","level":"1.4.4","depth":2,"path":"content/part2/socket.io.md","ref":"content/part2/socket.io.md","articles":[]},"previous":{"title":"Node","level":"1.4.2","depth":2,"path":"content/part2/node.md","ref":"content/part2/node.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["livereload"],"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"content/part2/express.md","mtime":"2016-08-31T19:25:01.000Z","type":"markdown"},"gitbook":{"version":"3.2.0","time":"2016-09-26T20:06:53.033Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

